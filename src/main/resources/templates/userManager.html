<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <title>后台页面</title>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/bootstrapcalendar/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="/static/bootstraptable/css/bootstrap-table.css">
    <script src="/bootstrapcalendar/js/jquery-1.11.0.min.js"></script>
    <script src="/bootstrap/js/bootstrap.js"></script>
    <script src="/bootstrapcalendar/js/bootstrap-datetimepicker.min.js"></script>
    <script src="/bootstrapcalendar/js/bootstrap-datetimepicker.zh-CN.js"></script>
    <script src="/static/bootstraptable/js/bootstrap-table.js"></script>
    <script src="/static/vue/vue.js"></script>
    <script src="/static/lodop/LodopFuncs.js"></script>
</head>
<body>
<div>
    <div class="col-lg-9">
        <div class="input-group">
            <div class="input-append date form_datetime">
                <input id="iddate" size="36" type="text" name="createdate" value="" readonly>
                <span class="add-on"><i class="icon-th"></i>日期选择</span>
            </div>
        </div><!-- /input-group -->
    </div><!-- /.col-lg-6 -->
    <div>
        <button class="btn btn-primary" value="查询" onclick="selectByDate()" id="dengl" type="submit">查询</button>
        <button class="btn btn-primary" value="查询全部" id="dengl" type="submit">查询全部</button>
        <button class="btn btn-primary" value="查询全部" onclick="CreatePrintPage()" id="dengl" type="submit">打印</button>
    </div>
</div><!-- /.row -->
<!--<form role="form" th:action="@{/findalluser}" method="post">-->
<!--</form>-->
<table  class="table table-bordered table-striped table-bordered table-condensed">
    <tr>
        <td>用户名</td>
        <td>密码</td>
        <td>登录时间</td>
    </tr>
    <!-- <tr th:each="item : ${list}">
         <td th:text="${item.username}"></td>
         <td th:text="${item.password}"></td>
         <td th:text="${item.createdate}"></td>
     </tr>-->
    <tr  th:each="user:${users}" th:id="user">
        <td th:text="${user.userId}"/>
        <td th:text="${user.userName}"/>
        <td th:text="${user.creatDate}"/>
    </tr>
</table>
</div>
<script type="text/javascript">

    $(".form_datetime").datetimepicker({
        language: 'zh-CN',
        minView: "month",//设置只显示到月份
        format: "yyyy-mm-dd",//日期格式
        autoclose: true,//选中关闭
        todayBtn: true//今日按钮
    });

    function selectByDate() {
        var date = $("#iddate").val();
        console.log(date);
        $.ajax({
            type: 'post',
            url: '/user/selectByDate',
            contentType: 'application/x-www-form-urlencoded',
            data: {
                date: date
            },
            success: function (data) { //返回json结果
                console.log(data.data[0].userId);
            }
        });
    }
</script>
<script type="text/javascript">

    function CreatePrintPage() {
        var u = $("#user").childNodes;
        debugger;
        console.log(u);
        LODOP = getLodop();
        LODOP.PRINT_INIT("打印控件功能演示_Lodop功能_名片");
        LODOP.ADD_PRINT_RECT(10, 55, 360, 220, 0, 1);
        LODOP.SET_PRINT_STYLE("FontSize", 11);
        LODOP.ADD_PRINT_TEXT(20, 180, 100, 25, "郭德强");
        LODOP.SET_PRINT_STYLEA(2, "FontName", "隶书");
        LODOP.SET_PRINT_STYLEA(2, "FontSize", 15);
        LODOP.ADD_PRINT_TEXT(53, 187, 75, 20, "科学家");
        LODOP.ADD_PRINT_TEXT(100, 131, 272, 20, "地址：中国北京社会科学院附近东大街西胡同");
        LODOP.ADD_PRINT_TEXT(138, 132, 166, 20, "电话：010-88811888");
        LODOP.PREVIEW();
    };
</script>

<!--<script type="text/javascript">
    /*bootstrap table*/
    $('#table').bootstrapTable({
        url:"/user/findUserList",//请求数据url
        queryParams: function (params) {
            return {
                offset: params.offset,  //页码
                limit: params.limit,   //页面大小
                search : params.search, //搜索
                order : params.order, //排序
                ordername : params.sort, //排序
            };
        },
        showHeader : true,
        showColumns : true,
        showRefresh : true,
        pagination: true,//分页
        sidePagination : 'server',//服务器端分页
        pageNumber : 1,
        pageList: [5, 10, 20, 50],//分页步进值
        search: true,//显示搜索框
        //表格的列
        columns: [
            {
                field: 'userId',//域值
                title: '规则ID',//标题
                visible: true,//false表示不显示
                sortable: true,//启用排序
                width : '5%',
            },
            {
                field: 'userName',//域值
                title: '唯一英文标识',//标题
                visible: true,//false表示不显示
                sortable: true,//启用排序
                width : '30%',
                editable:true,
            },
            {
                field: 'creatDate',//域值
                title: '中文描述',//内容
                visible: true,//false表示不显示
                sortable: true,//启用排序
                width : '35%',
                editable:true,
            }/*,
            {
                field: 'status',//域值
                title: '状态',//内容
                visible: true,//false表示不显示
                sortable: true,//启用排序
                width : '20%',
                formatter : function (value, row, index) {
                    if (row['status'] === 1) {
                        return '正常';
                    }
                    if (row['status'] === 0) {
                        return '禁用';
                    }
                    return value;
                }
            }*/
        ]
    });
</script>-->
</body>
</html>
